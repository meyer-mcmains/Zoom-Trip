function performWhileMouseDown(){!0!==disabled&&zoom()}function zoom(){1===one?(get(1,imgNum),imgNum++,one=2,$("#name").fadeOut(),$("#article").fadeOut()):"image"===mainType?"first"===first?(zoomMainImage(type),checkImage(type)):zoomSecondaryImage(type):"first"===first?(zoomMainText(type),checkText(type)):zoomSecondaryText(type),1===two?(get(2,imgNum),imgNum++,two=2,$("#name").fadeOut(),$("#article").fadeOut()):"image"===secondaryType?"first"===second?(zoomMainImage(type2),checkImage(type2)):zoomSecondaryImage(type2):"first"===second?(zoomMainText(type2),checkText(type2)):zoomSecondaryText(type2)}function get(e,t){$.ajax({url:path+t+".svg",error:function(){var n;n=1===e?"centerText":"centerText2",changeText(e,n,t)},success:function(){var n;n=1===e?"image":"nextImage",changeImage(e,n,t)}})}function checkImage(e){var t;($(".container").width()-50<e.width()+20||$(".container").height()-50<e.height()+20)&&(audio.pause(),"first"===first?(one=1,first="second",second="first"):(two=1,first="first",second="second"),$("#sound").attr("src",path+(imgNum-2)+".mp3"),audio=new Audio(path+(imgNum-2)+".mp3"),audio.play(),t=e.data("num"),readSVG(t),pause(),!0===down&&!0===choice&&(disabled=!0,main.html(""),secondary.html(""),choose()),!0===exit&&exitTrip())}function checkText(e){250<getTextSize(e)&&(audio.pause(),"first"===first?(one=1,first="second",second="first"):(two=1,first="first",second="second"),!0===choice&&(disabled=!0,choose()),!0===exit&&exitTrip())}function zoomMainImage(e){var t=e.css("width");t=parseInt(t,10),t+=20;var n=e.css("opacity");n=parseFloat(n,10),n+=.05,e.css("width",t),e.css("z-index",1),e.css("opacity",n)}function zoomSecondaryImage(e){var t=e.css("width");t=parseInt(t,10),t+=2;var n=e.css("opacity");n=parseFloat(n,10),n+=.05,e.css("width",t),e.css("z-index",-1)}function zoomMainText(e){var t=getTextSize(e);t+=10;var n=e.css("opacity");n=parseFloat(n,10),n+=.05,e.css("font-size",t+"px"),e.css("z-index",1),e.css("opacity",n)}function zoomSecondaryText(e){var t=getTextSize(e);t+=2;var n=e.css("opacity");n=parseFloat(n,10),n+=.05,e.css("font-size",t+"px"),e.css("z-index",-1),e.css("opacity",n)}function changeText(e,t,n){var a=path+n+".txt";$.get(a,function(n){text='<div class="'+t+'">'+n+"</div>",""===n&&(choice=!0),"exit code 1"===n&&(exit=!0,text='<div class="'+t+'"></div>'),1===e?$("#main").html(text):$("#secondary").html(text),inText=$("."+t),inText.css("font-size","1px"),inText.css("opacity",.5),1===e?(type=inText,mainType="text"):(type2=inText,secondaryType="text")},"text")}function changeImage(e,t,n){var a='<img draggable= false data-num="'+n+'" class="'+t+'" src="'+path+n+'.svg"/>';1===e?$("#main").html(a):$("#secondary").html(a),image=$("."+t),image.css("width",10),image.css("opacity",.5),1===e?(type=image,mainType="image"):(type2=image,secondaryType="image")}function readSVG(e){var t;t=new XMLHttpRequest,t.onreadystatechange=function(){4==this.readyState&&200==this.status&&getName(this)},t.open("GET",path+e+".svg",!0),t.send();var n;n=new XMLHttpRequest,n.onreadystatechange=function(){4==this.readyState&&200==this.status&&getName2(this)},n.open("GET",path+e+".svg",!0),n.send()}function getName(e){var t=e.responseXML,n=t.getElementsByTagName("title")[0],a=n.childNodes[0];$("#name").html(a)}function getName2(e){var t=e.responseXML,n=t.getElementsByTagName("wiki")[0],a=n.childNodes[0];$("#article").html(a)}function pause(){$("#name").fadeIn(),$("#article").fadeIn(),$(document).trigger("mouseup")}function getTextSize(e){var t=e.css("font-size");return t=parseInt(t,10)}function choose(){audio.pause(),$(".wrapper").hide(),$(".choices").fadeIn(2e3),resetVars(),getChoices("one","choice1"),getChoices("two","choice2")}function getChoices(e,t){$("#cPic"+e).attr("src",path+e+".svg"),readChoice(e)}function readChoice(e){var t;t=new XMLHttpRequest,t.onreadystatechange=function(){4==this.readyState&&200==this.status&&getChoice(this,e)},t.open("GET",path+e+".svg",!0),t.send()}function getChoice(e,t){var n=e.responseXML,a=n.getElementsByTagName("wiki")[0],i=a.childNodes[0];$(".text"+t).html(i)}function exitTrip(){$(".wrapper").hide(),$("#main").html(""),$("#secondary").html(""),disabled=!0,$(".end").fadeIn()}function resetVars(){imgNum=1,mainType=null,secondaryType=null,type=null,type2=null,main=$("#main"),secondary=$("#secondary"),one=1,two=1,first="first",second="second",disabled=!0,choice=!1,$("#main").html(""),$("#secondary").html(""),$("#article").html(""),$("#name").html("")}function changeFont(e){$(".wiki").css("font-family",e),$(".wiki").css("font-size","1.7vw"),$("#name").css("font-family",e),$(".centerText").css("font-family",e),$(".centerText2").css("font-family",e),$(".choiceText").css("font-family",e)}var imgNum=1,mainType,secondaryType,type,type2,main=$("#main"),secondary=$("#secondary"),one=1,two=1,first="first",second="second",interval,disabled=!0,choice=!1,path="",exit=!1,down,audio=new Audio;$(document).on("contextmenu",function(e){return!1}),$(document).mousedown(function(){down=!0,!0!==disabled&&(interval=setInterval(performWhileMouseDown,40))}).mouseup(function(){down=!1,clearInterval(interval)}),$(document).ready(function(){$(".button").click(function(){$(".tutorial").hide(),$(".trips").show()})}),$(document).ready(function(){$("#one").click(function(){$(".trips").fadeOut(),path="tutorial/",$("body").css("background-color","black"),disabled=!1})}),$(document).ready(function(){$("#two").click(function(){$(".trips").fadeOut(),changeFont("Jolly Lodger"),path="scary/",$("body").css("background-color","black"),disabled=!1})}),$(document).ready(function(){$(".choice1").click(function(){path+="one/",$(".choices").fadeOut(),$("#cPicone").attr("src","").delay(500),$("#cPictwo").attr("src","").delay(500),resetVars(),$(".wrapper").show(),disabled=!1})}),$(document).ready(function(){$(".choice2").click(function(){path+="two/",$(".choices").fadeOut(),$("#cPicone").attr("src","").delay(500),$("#cPictwo").attr("src","").delay(500),resetVars(),$(".wrapper").show(),disabled=!1})});